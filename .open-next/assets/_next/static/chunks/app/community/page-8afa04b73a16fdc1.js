(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{6213:function(e,t,r){Promise.resolve().then(r.bind(r,3982))},3982:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var a=r(7437),s=r(2265),l=r(5922),n=r(9205);let o=(0,n.Z)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),c=(0,n.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i=(0,n.Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function d(e){let{initialPosts:t=[]}=e,{theme:r}=(0,l.F)(),[n,c]=(0,s.useState)(!1),[i,d]=(0,s.useState)(t),[u,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c(!0);try{let e=localStorage.getItem("dori_community_posts");e&&d(JSON.parse(e))}catch(e){console.error("Failed to load community posts from localStorage",e)}},[]);let f=n&&"dark"===r;return(0,a.jsxs)("div",{className:"flex w-full",children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsxs)("section",{className:"relative z-10",style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1.5rem"},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold",style:{color:f?"#ffffff":"#1d1d1f"},children:"커뮤니티"}),(0,a.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(o,{size:20}),(0,a.jsx)("span",{children:"새 글 작성"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:i.length>0?i.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:f?"rgba(255, 255, 255, 0.02)":"#ffffff",borderColor:f?"rgba(255, 255, 255, 0.1)":"#e5e5e7"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("img",{src:e.avatar,alt:e.author,className:"w-8 h-8 rounded-full"}),(0,a.jsx)("span",{className:"font-semibold text-sm",children:e.author}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("ko-KR")})]}),(0,a.jsx)("h2",{className:"text-lg font-bold mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-400 line-clamp-2 mb-3",children:e.content}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex gap-2",children:e.tags.map(e=>(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:f?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",color:f?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)"},children:["#",e]},e))}),(0,a.jsxs)("div",{className:"flex gap-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["좋아요 ",e.likes]}),(0,a.jsxs)("span",{children:["댓글 ",e.comments]})]})]})]},e.id)):(0,a.jsxs)("div",{className:"text-center py-16 border border-dashed rounded-xl",style:{borderColor:f?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"},children:[(0,a.jsx)("p",{className:"text-gray-500",children:"아직 게시물이 없습니다."}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"첫 번째 글을 작성해보세요!"})]})})]})}),u&&(0,a.jsx)(m,{onClose:()=>h(!1),onSubmit:e=>{let t=[{id:new Date().toISOString(),author:"Current User",avatar:"https://i.pravatar.cc/40?u=".concat(new Date().toISOString()),title:e.title,content:e.content,tags:e.tags,likes:0,comments:0,createdAt:new Date().toISOString()},...i];d(t);try{localStorage.setItem("dori_community_posts",JSON.stringify(t))}catch(e){console.error("Failed to save community posts to localStorage",e)}h(!1)},isDark:f})]})}function m(e){let{onClose:t,onSubmit:r,isDark:l}=e,[n,o]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[u,h]=(0,s.useState)("");return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"rounded-2xl p-6 w-full max-w-2xl",style:{backgroundColor:l?"#1a1a1a":"#ffffff",border:"1px solid ".concat(l?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)")},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"새 글 작성"}),(0,a.jsx)("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-700",children:(0,a.jsx)(c,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&d.trim()&&r({title:n,content:d,tags:u.split(",").map(e=>e.trim()).filter(Boolean)})},className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"제목",value:n,onChange:e=>o(e.target.value),className:"w-full p-3 rounded-lg",style:{backgroundColor:l?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",border:"1px solid ".concat(l?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)")}}),(0,a.jsx)("textarea",{placeholder:"내용을 입력하세요...",value:d,onChange:e=>m(e.target.value),rows:8,className:"w-full p-3 rounded-lg",style:{backgroundColor:l?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",border:"1px solid ".concat(l?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)")}}),(0,a.jsx)("input",{type:"text",placeholder:"태그 (쉼표로 구분)",value:u,onChange:e=>h(e.target.value),className:"w-full p-3 rounded-lg",style:{backgroundColor:l?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",border:"1px solid ".concat(l?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)")}}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(i,{size:18}),(0,a.jsx)("span",{children:"게시"})]})})]})]})})}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:m,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:n?24*Number(l)/Number(s):l,className:o("lucide",d),...!m&&!c(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:c,...i}=r;return(0,a.createElement)(d,{ref:l,iconNode:t,className:o("lucide-".concat(s(n(e))),"lucide-".concat(e),c),...i})});return r.displayName=n(e),r}},5922:function(e,t,r){"use strict";r.d(t,{F:function(){return d},f:function(){return m}});var a=r(2265),s=(e,t,r,a,s,l,n,o)=>{let c=document.documentElement,i=["light","dark"];function d(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&l?s.map(e=>l[e]||e):s;r?(c.classList.remove(...a),c.classList.add(l&&l[t]?l[t]:t)):c.setAttribute(e,t)}),o&&i.includes(t)&&(c.style.colorScheme=t)}if(a)d(a);else try{let e=localStorage.getItem(t)||r,a=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;d(a)}catch(e){}},l=["light","dark"],n="(prefers-color-scheme: dark)",o="undefined"==typeof window,c=a.createContext(void 0),i={setTheme:e=>{},themes:[]},d=()=>{var e;return null!=(e=a.useContext(c))?e:i},m=e=>a.useContext(c)?a.createElement(a.Fragment,null,e.children):a.createElement(h,{...e}),u=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:o=!0,storageKey:i="theme",themes:d=u,defaultTheme:m=s?"system":"light",attribute:h="data-theme",value:b,children:y,nonce:v,scriptProps:w}=e,[j,k]=a.useState(()=>g(i,m)),[N,S]=a.useState(()=>"system"===j?x():j),C=b?Object.values(b):d,E=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=x());let a=b?b[t]:t,n=r?p(v):null,c=document.documentElement,i=e=>{"class"===e?(c.classList.remove(...C),a&&c.classList.add(a)):e.startsWith("data-")&&(a?c.setAttribute(e,a):c.removeAttribute(e))};if(Array.isArray(h)?h.forEach(i):i(h),o){let e=l.includes(m)?m:null,r=l.includes(t)?t:e;c.style.colorScheme=r}null==n||n()},[v]),A=a.useCallback(e=>{let t="function"==typeof e?e(j):e;k(t);try{localStorage.setItem(i,t)}catch(e){}},[j]),T=a.useCallback(e=>{S(x(e)),"system"===j&&s&&!t&&E("system")},[j,t]);a.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(T),T(e),()=>e.removeListener(T)},[T]),a.useEffect(()=>{let e=e=>{e.key===i&&(e.newValue?k(e.newValue):A(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[A]),a.useEffect(()=>{E(null!=t?t:j)},[t,j]);let L=a.useMemo(()=>({theme:j,setTheme:A,forcedTheme:t,resolvedTheme:"system"===j?N:j,themes:s?[...d,"system"]:d,systemTheme:s?N:void 0}),[j,A,t,N,s,d]);return a.createElement(c.Provider,{value:L},a.createElement(f,{forcedTheme:t,storageKey:i,attribute:h,enableSystem:s,enableColorScheme:o,defaultTheme:m,value:b,themes:d,nonce:v,scriptProps:w}),y)},f=a.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:l,enableSystem:n,enableColorScheme:o,defaultTheme:c,value:i,themes:d,nonce:m,scriptProps:u}=e,h=JSON.stringify([l,r,c,t,d,i,n,o]).slice(1,-1);return a.createElement("script",{...u,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?m:"",dangerouslySetInnerHTML:{__html:"(".concat(s.toString(),")(").concat(h,")")}})}),g=(e,t)=>{let r;if(!o){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},x=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light")}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6213)}),_N_E=e.O()}]);